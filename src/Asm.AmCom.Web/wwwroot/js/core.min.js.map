{"version":3,"file":"core.min.js","mappings":"wgCAAAA,SAASC,iBAAiB,oBAAoB,WAC1C,IACqBC,EAD8CC,EAAAC,EAAhDJ,SAASK,uBAAuB,iBAC9B,IAArB,IAAAF,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAYN,EAAAO,MACNC,QAAUC,CACf,OAAAC,GAAAT,EAAAU,EAAAD,EAAA,SAAAT,EAAAW,GAAA,CAED,IACwBC,EAD0CC,EAAAZ,EAA5CJ,SAASK,uBAAuB,aAC9B,IAAxB,IAAAW,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAYO,EAAAN,MACNC,QAAUO,CACf,OAAAL,GAAAI,EAAAH,EAAAD,EAAA,SAAAI,EAAAF,GAAA,CACL,IAIA,IAuBUI,EAvBJC,EAAc,+BACdC,EAAe,gCAEfC,EAASC,OAAOC,WAAWJ,GAOjC,SAASK,EAASX,GACVA,EAAEY,UAAWC,MAIdb,EAAEc,QAAUR,EACXS,EAAmB,QACZf,EAAEc,QAAUP,GACnBQ,EAAmB,SAE3B,CAgBA,SAASjB,EAAYE,GAEjB,IAEIK,EAFEW,EAAO7B,SAAS8B,qBAAqB,QAAQ,GAK/CZ,EADAQ,IACQG,EAAKE,UAAUC,SAAS,QAAU,QAAU,OAG5CX,EAAOI,QAAU,QAAU,OAGvCH,OAAOW,aAAaC,QAAQ,QAAShB,GAErCU,EAAmBV,EACvB,CAEA,SAASQ,IAEL,OAAgD,OAAzCJ,OAAOW,aAAaE,QAAQ,QACvC,CAEA,SAASP,EAAmBV,GAExB,IAAMW,EAAO7B,SAAS8B,qBAAqB,QAAQ,GAC7CM,EAAMpC,SAASqC,eAAe,WACpCR,EAAKE,UAAUO,OAAO,QACtBT,EAAKE,UAAUO,OAAO,SACtBT,EAAKE,UAAUQ,IAAIrB,EAAMsB,eAEzBJ,EAAIL,UAAUO,OAAO,eACrBF,EAAIL,UAAUO,OAAO,gBACrBF,EAAIL,UAAUQ,IAAI,UAADE,OAAWvB,EAAMsB,eACtC,CAEA,SAASvB,EAAiBJ,GACtB,IAAM6B,EAAS7B,EAAE8B,cACjBD,EAAOE,WAAaC,UAAUC,UAAUC,UAAUL,EAAOE,UAC7D,CAvEAvB,EAAOpB,iBAAiB,SAAUuB,GAClBF,OAAOC,WAAWH,GAC1BnB,iBAAiB,SAAUuB,IAiBzBN,EAAQI,OAAOW,aAAaE,QAAQ,UAGtCP,EAAmBV,GAEdG,EAAOI,QACZG,EAAmB,QAGnBA,EAAmB,Q","sources":["webpack://asm.amcom.web/./scripts/standard/Core.ts"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n    const elems: any = document.getElementsByClassName(\"theme-switch\");\r\n    for (const e of elems) {\r\n        e.onclick = switchTheme;\r\n    }\r\n\r\n    const copyable: any = document.getElementsByClassName(\"copyable\");\r\n    for (const e of copyable) {\r\n        e.onclick = copyToClipboard;\r\n    }\r\n});\r\n\r\ntype Theme = \"light\" | \"dark\";\r\n\r\nconst prefersDark = \"(prefers-color-scheme: dark)\";\r\nconst prefersLight = \"(prefers-color-scheme: light)\";\r\n\r\nconst mqDark = window.matchMedia(prefersDark);\r\nmqDark.addEventListener(\"change\", listener);\r\nconst mqLight = window.matchMedia(prefersLight)\r\nmqLight.addEventListener(\"change\", listener);\r\n\r\nsetInitialTheme();\r\n\r\nfunction listener(e: MediaQueryListEvent) {\r\n    if(!e.matches || hasThemeOverride()) { // Not matching anymore = not interesting\r\n        return;\r\n    }\r\n\r\n    if(e.media === prefersDark) {\r\n        changeWebsiteTheme(\"dark\");\r\n    } else if (e.media === prefersLight) {\r\n        changeWebsiteTheme(\"light\");\r\n    }\r\n}\r\n\r\nfunction setInitialTheme() {\r\n    const theme = window.localStorage.getItem(\"theme\");\r\n\r\n    if (theme as Theme) {\r\n        changeWebsiteTheme(theme as Theme);\r\n    }\r\n    else if (mqDark.matches) {\r\n        changeWebsiteTheme(\"dark\");\r\n    }\r\n    else {\r\n        changeWebsiteTheme(\"light\");\r\n    }\r\n}\r\n\r\nfunction switchTheme(e: MouseEvent) {\r\n\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n\r\n    let theme: Theme = \"light\";\r\n\r\n    if (hasThemeOverride()) {\r\n        theme = body.classList.contains(\"dark\") ? \"light\" : \"dark\";\r\n    }\r\n    else {\r\n        theme = mqDark.matches ? \"light\" : \"dark\";\r\n    }\r\n\r\n    window.localStorage.setItem(\"theme\", theme);\r\n\r\n    changeWebsiteTheme(theme);\r\n}\r\n\r\nfunction hasThemeOverride()\r\n{\r\n    return window.localStorage.getItem(\"theme\") !== null;\r\n}\r\n\r\nfunction changeWebsiteTheme(theme: Theme) {\r\n\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n    const nav = document.getElementById(\"top-nav\");\r\n    body.classList.remove(\"dark\");\r\n    body.classList.remove(\"light\");\r\n    body.classList.add(theme.toLowerCase());\r\n\r\n    nav.classList.remove(\"navbar-dark\");\r\n    nav.classList.remove(\"navbar-light\");\r\n    nav.classList.add(`navbar-${theme.toLowerCase()}`);\r\n}\r\n\r\nfunction copyToClipboard (e: MouseEvent) {\r\n    const target = e.currentTarget as HTMLElement;\r\n    target.innerText && navigator.clipboard.writeText(target.innerText);\r\n}"],"names":["document","addEventListener","_step","_iterator","_createForOfIteratorHelper","getElementsByClassName","s","n","done","value","onclick","switchTheme","err","e","f","_step2","_iterator2","copyToClipboard","theme","prefersDark","prefersLight","mqDark","window","matchMedia","listener","matches","hasThemeOverride","media","changeWebsiteTheme","body","getElementsByTagName","classList","contains","localStorage","setItem","getItem","nav","getElementById","remove","add","toLowerCase","concat","target","currentTarget","innerText","navigator","clipboard","writeText"],"sourceRoot":""}
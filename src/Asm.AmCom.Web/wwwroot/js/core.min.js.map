{"version":3,"file":"core.min.js","mappings":"0hCAAAA,SAASC,iBAAiB,oBAAoB,WAC1C,IAD+C,MAC5BD,SAASE,uBAAuB,iBADJ,IAE/C,IAAK,EAAL,qBAAuB,QACjBC,QAAUC,EAH+B,8BAM/C,IAN+C,MAMzBJ,SAASE,uBAAuB,aANP,IAO/C,IAAK,EAAL,qBAA0B,QACpBC,QAAUE,EAR+B,kCAcnD,IAuBUC,EAvBJC,EAAc,+BACdC,EAAe,gCAEfC,EAASC,OAAOC,WAAWJ,GAOjC,SAASK,EAASC,GACVA,EAAEC,UAAWC,MAIdF,EAAEG,QAAUT,EACXU,EAAmB,QACZJ,EAAEG,QAAUR,GACnBS,EAAmB,UAkB3B,SAASb,EAAYS,GAEjB,IAEIP,EAFEY,EAAOlB,SAASmB,qBAAqB,QAAQ,GAK/Cb,EADAS,IACQG,EAAKE,UAAUC,SAAS,QAAU,QAAU,OAG5CZ,EAAOK,QAAU,QAAU,OAGvCJ,OAAOY,aAAaC,QAAQ,QAASjB,GAErCW,EAAmBX,GAGvB,SAASS,IAEL,OAAgD,OAAzCL,OAAOY,aAAaE,QAAQ,SAGvC,SAASP,EAAmBX,GAExB,IAAMY,EAAOlB,SAASmB,qBAAqB,QAAQ,GAC7CM,EAAMzB,SAAS0B,eAAe,WACpCR,EAAKE,UAAUO,OAAO,QACtBT,EAAKE,UAAUO,OAAO,SACtBT,EAAKE,UAAUQ,IAAItB,EAAMuB,eAEzBJ,EAAIL,UAAUO,OAAO,eACrBF,EAAIL,UAAUO,OAAO,gBACrBF,EAAIL,UAAUQ,IAAd,iBAA4BtB,EAAMuB,gBAGtC,SAASxB,EAAiBQ,GACtB,IAAMiB,EAASjB,EAAEkB,cACjBD,EAAOE,WAAaC,UAAUC,UAAUC,UAAUL,EAAOE,WAtE7DvB,EAAOR,iBAAiB,SAAUW,GAClBF,OAAOC,WAAWH,GAC1BP,iBAAiB,SAAUW,IAiBzBN,EAAQI,OAAOY,aAAaE,QAAQ,UAGtCP,EAAmBX,GAEdG,EAAOK,QACZG,EAAmB,QAGnBA,EAAmB,U","sources":["webpack://asm.amcom.web/./scripts/standard/Core.ts"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n    const elems: any = document.getElementsByClassName(\"theme-switch\");\r\n    for (const e of elems) {\r\n        e.onclick = switchTheme;\r\n    }\r\n\r\n    const copyable: any = document.getElementsByClassName(\"copyable\");\r\n    for (const e of copyable) {\r\n        e.onclick = copyToClipboard;\r\n    }\r\n});\r\n\r\ntype Theme = \"light\" | \"dark\";\r\n\r\nconst prefersDark = \"(prefers-color-scheme: dark)\";\r\nconst prefersLight = \"(prefers-color-scheme: light)\";\r\n\r\nconst mqDark = window.matchMedia(prefersDark);\r\nmqDark.addEventListener(\"change\", listener);\r\nconst mqLight = window.matchMedia(prefersLight)\r\nmqLight.addEventListener(\"change\", listener);\r\n\r\nsetInitialTheme();\r\n\r\nfunction listener(e: MediaQueryListEvent) {\r\n    if(!e.matches || hasThemeOverride()) { // Not matching anymore = not interesting\r\n        return;\r\n    }\r\n\r\n    if(e.media === prefersDark) {\r\n        changeWebsiteTheme(\"dark\");\r\n    } else if (e.media === prefersLight) {\r\n        changeWebsiteTheme(\"light\");\r\n    }\r\n}\r\n\r\nfunction setInitialTheme() {\r\n    const theme = window.localStorage.getItem(\"theme\");\r\n\r\n    if (theme as Theme) {\r\n        changeWebsiteTheme(theme as Theme);\r\n    }\r\n    else if (mqDark.matches) {\r\n        changeWebsiteTheme(\"dark\");\r\n    }\r\n    else {\r\n        changeWebsiteTheme(\"light\");\r\n    }\r\n}\r\n\r\nfunction switchTheme(e: MouseEvent) {\r\n\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n\r\n    let theme: Theme = \"light\";\r\n\r\n    if (hasThemeOverride()) {\r\n        theme = body.classList.contains(\"dark\") ? \"light\" : \"dark\";\r\n    }\r\n    else {\r\n        theme = mqDark.matches ? \"light\" : \"dark\";\r\n    }\r\n\r\n    window.localStorage.setItem(\"theme\", theme);\r\n\r\n    changeWebsiteTheme(theme);\r\n}\r\n\r\nfunction hasThemeOverride()\r\n{\r\n    return window.localStorage.getItem(\"theme\") !== null;\r\n}\r\n\r\nfunction changeWebsiteTheme(theme: Theme) {\r\n\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n    const nav = document.getElementById(\"top-nav\");\r\n    body.classList.remove(\"dark\");\r\n    body.classList.remove(\"light\");\r\n    body.classList.add(theme.toLowerCase());\r\n\r\n    nav.classList.remove(\"navbar-dark\");\r\n    nav.classList.remove(\"navbar-light\");\r\n    nav.classList.add(`navbar-${theme.toLowerCase()}`);\r\n}\r\n\r\nfunction copyToClipboard (e: MouseEvent) {\r\n    const target = e.currentTarget as HTMLElement;\r\n    target.innerText && navigator.clipboard.writeText(target.innerText);\r\n}"],"names":["document","addEventListener","getElementsByClassName","onclick","switchTheme","copyToClipboard","theme","prefersDark","prefersLight","mqDark","window","matchMedia","listener","e","matches","hasThemeOverride","media","changeWebsiteTheme","body","getElementsByTagName","classList","contains","localStorage","setItem","getItem","nav","getElementById","remove","add","toLowerCase","target","currentTarget","innerText","navigator","clipboard","writeText"],"sourceRoot":""}
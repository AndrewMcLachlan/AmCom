{"version":3,"file":"core.js","mappings":"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","sources":["webpack://asm.amcom.web/./scripts/standard/Core.ts"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n    const elems: any = document.getElementsByClassName(\"theme-switch\");\r\n    for (const e of elems) {\r\n        e.onclick = switchTheme;\r\n    }\r\n\r\n    const copyable: any = document.getElementsByClassName(\"copyable\");\r\n    for (const e of copyable) {\r\n        e.onclick = copyToClipboard;\r\n    }\r\n});\r\n\r\ntype Theme = \"light\" | \"dark\";\r\n\r\nconst prefersDark = \"(prefers-color-scheme: dark)\";\r\nconst prefersLight = \"(prefers-color-scheme: light)\";\r\n\r\nconst mqDark = window.matchMedia(prefersDark);\r\nmqDark.addEventListener(\"change\", listener);\r\nconst mqLight = window.matchMedia(prefersLight)\r\nmqLight.addEventListener(\"change\", listener);\r\n\r\nsetInitialTheme();\r\n\r\nfunction listener(e: MediaQueryListEvent) {\r\n    if(!e.matches || hasThemeOverride()) { // Not matching anymore = not interesting\r\n        return;\r\n    }\r\n\r\n    if(e.media === prefersDark) {\r\n        changeWebsiteTheme(\"dark\");\r\n    } else if (e.media === prefersLight) {\r\n        changeWebsiteTheme(\"light\");\r\n    }\r\n}\r\n\r\nfunction setInitialTheme() {\r\n    const theme = window.localStorage.getItem(\"theme\");\r\n\r\n    if (theme as Theme) {\r\n        changeWebsiteTheme(theme as Theme);\r\n    }\r\n    else if (mqDark.matches) {\r\n        changeWebsiteTheme(\"dark\");\r\n    }\r\n    else {\r\n        changeWebsiteTheme(\"light\");\r\n    }\r\n}\r\n\r\nfunction switchTheme(e: MouseEvent) {\r\n\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n\r\n    let theme: Theme = \"light\";\r\n\r\n    if (hasThemeOverride()) {\r\n        theme = body.classList.contains(\"dark\") ? \"light\" : \"dark\";\r\n    }\r\n    else {\r\n        theme = mqDark.matches ? \"light\" : \"dark\";\r\n    }\r\n\r\n    window.localStorage.setItem(\"theme\", theme);\r\n\r\n    changeWebsiteTheme(theme);\r\n}\r\n\r\nfunction hasThemeOverride()\r\n{\r\n    return window.localStorage.getItem(\"theme\") !== null;\r\n}\r\n\r\nfunction changeWebsiteTheme(theme: Theme) {\r\n\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n    const nav = document.getElementById(\"top-nav\");\r\n    body.classList.remove(\"dark\");\r\n    body.classList.remove(\"light\");\r\n    body.classList.add(theme.toLowerCase());\r\n\r\n    nav.classList.remove(\"navbar-dark\");\r\n    nav.classList.remove(\"navbar-light\");\r\n    nav.classList.add(`navbar-${theme.toLowerCase()}`);\r\n}\r\n\r\nfunction copyToClipboard (e: MouseEvent) {\r\n    const target = e.currentTarget as HTMLElement;\r\n    target.innerText && navigator.clipboard.writeText(target.innerText);\r\n}"],"names":["document","addEventListener","elems","getElementsByClassName","e","onclick","switchTheme","copyable","copyToClipboard","prefersDark","prefersLight","mqDark","window","matchMedia","listener","mqLight","setInitialTheme","matches","hasThemeOverride","media","changeWebsiteTheme","theme","localStorage","getItem","body","getElementsByTagName","classList","contains","setItem","nav","getElementById","remove","add","toLowerCase","target","currentTarget","innerText","navigator","clipboard","writeText"],"sourceRoot":""}
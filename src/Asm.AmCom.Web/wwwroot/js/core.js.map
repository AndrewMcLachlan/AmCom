{"version":3,"file":"core.js","mappings":"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","sources":["webpack://asm.amcom.web/./scripts/standard/Core.ts"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n    const elems: any = document.getElementsByClassName(\"theme-switch\");\r\n    for (const e of elems) {\r\n        e.onclick = switchTheme;\r\n    }\r\n\r\n    const copyable: any = document.getElementsByClassName(\"copyable\");\r\n    for (const e of copyable) {\r\n        e.onclick = copyToClipboard;\r\n    }\r\n});\r\n\r\ntype Theme = \"light\" | \"dark\";\r\n\r\nconst prefersDark = \"(prefers-color-scheme: dark)\";\r\nconst prefersLight = \"(prefers-color-scheme: light)\";\r\n\r\nconst mqDark = window.matchMedia(prefersDark);\r\nmqDark.addEventListener(\"change\", listener);\r\nconst mqLight = window.matchMedia(prefersLight)\r\nmqLight.addEventListener(\"change\", listener);\r\n\r\nsetInitialTheme();\r\n\r\nfunction listener(e: MediaQueryListEvent) {\r\n    if(!e.matches || hasThemeOverride()) { // Not matching anymore = not interesting\r\n        return;\r\n    }\r\n\r\n    if(e.media === prefersDark) {\r\n        changeWebsiteTheme(\"dark\");\r\n    } else if (e.media === prefersLight) {\r\n        changeWebsiteTheme(\"light\");\r\n    }\r\n}\r\n\r\nfunction setInitialTheme() {\r\n    const theme = window.localStorage.getItem(\"theme\");\r\n\r\n    if (theme as Theme) {\r\n        changeWebsiteTheme(theme as Theme);\r\n    }\r\n    else if (mqDark.matches) {\r\n        changeWebsiteTheme(\"dark\");\r\n    }\r\n    else {\r\n        changeWebsiteTheme(\"light\");\r\n    }\r\n}\r\n\r\nfunction switchTheme(e: MouseEvent) {\r\n\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n\r\n    let theme: Theme = \"light\";\r\n\r\n    if (hasThemeOverride()) {\r\n        theme = body.classList.contains(\"dark\") ? \"light\" : \"dark\";\r\n    }\r\n    else {\r\n        theme = mqDark.matches ? \"light\" : \"dark\";\r\n    }\r\n\r\n    window.localStorage.setItem(\"theme\", theme);\r\n\r\n    changeWebsiteTheme(theme);\r\n}\r\n\r\nfunction hasThemeOverride()\r\n{\r\n    return window.localStorage.getItem(\"theme\") !== null;\r\n}\r\n\r\nfunction changeWebsiteTheme(theme: Theme) {\r\n\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n    const nav = document.getElementById(\"top-nav\");\r\n    body.classList.remove(\"dark\");\r\n    body.classList.remove(\"light\");\r\n    body.classList.add(theme.toLowerCase());\r\n\r\n    nav.classList.remove(\"navbar-dark\");\r\n    nav.classList.remove(\"navbar-light\");\r\n    nav.classList.add(`navbar-${theme.toLowerCase()}`);\r\n}\r\n\r\nfunction copyToClipboard (e: MouseEvent) {\r\n    const target = e.currentTarget as HTMLElement;\r\n    target.innerText && navigator.clipboard.writeText(target.innerText);\r\n}"],"names":["document","addEventListener","elems","getElementsByClassName","_iterator","_createForOfIteratorHelper","_step","s","n","done","e","value","onclick","switchTheme","err","f","copyable","_iterator2","_step2","copyToClipboard","prefersDark","prefersLight","mqDark","window","matchMedia","listener","mqLight","setInitialTheme","matches","hasThemeOverride","media","changeWebsiteTheme","theme","localStorage","getItem","body","getElementsByTagName","classList","contains","setItem","nav","getElementById","remove","add","toLowerCase","concat","target","currentTarget","innerText","navigator","clipboard","writeText"],"sourceRoot":""}